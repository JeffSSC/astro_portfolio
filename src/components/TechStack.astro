---
import "devicon/devicon.min.css";

interface TechItem {
    icon: string;
    name: string;
}

interface Props {
    techs?: (string | TechItem)[];
}

const {
    techs = [
        "astro",
        { icon: "vuejs", name: "Vue.js" },
        "python",
        "html5",
        "css3",
        "git",
        "github",
        { icon: "amazonwebservices", name: "AWS" },
        "docker",
        "nodejs",
        "tailwindcss",
        "postgresql",
        "mysql",
    ],
} = Astro.props;

function getIcon(item: string | TechItem) {
    return typeof item === "string" ? item : item.icon;
}

function getName(item: string | TechItem) {
    if (typeof item !== "string") return item.name;
    return item.charAt(0).toUpperCase() + item.slice(1);
}
---

<section class="wrapper">
    <div class="grid-container">
        {
            techs.map((tech) => (
                <div class="tech-item">
                    <i
                        class={`devicon-${getIcon(tech)}-plain`}
                        aria-hidden="true"
                    />
                    <span class="tech-name">{getName(tech)}</span>
                </div>
            ))
        }
    </div>
</section>

<style>
    :root {
        --color-text: navy;
        --color-bg: papayawhip;
        --color-bg-accent: #ecdcc0;
        --size: clamp(3.5rem, 5rem, 6rem);
        --gap: calc(var(--size) / 12);
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --color-text: papayawhip;
            --color-bg: rgb(14, 14, 14);
            --color-bg-accent: #151515;
        }
    }

    .wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        padding: 1.5rem 0;
    }

    .grid-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: calc(var(--gap) * 2);
        max-width: 1200px;
    }

    .tech-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        transition: transform 0.2s ease;
    }

    .tech-item i {
        display: grid;
        place-items: center;
        font-size: var(--size);
        color: var(--color-text);
        background: var(--color-bg-accent);
        aspect-ratio: 1/1;
        padding: calc(var(--size) / 10);
        border-radius: 0.75rem;
        transition: background-color 0.2s ease;
    }

    .tech-name {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text);
        opacity: 0.8;
        text-align: center;
    }

    .tech-item:hover {
        transform: translateY(-5px);
        cursor: pointer;
    }

    .tech-item:hover i {
        filter: brightness(1.1);
    }
</style>
